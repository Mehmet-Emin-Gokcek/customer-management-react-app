(this["webpackJsonpcustomer-management-react-app"]=this["webpackJsonpcustomer-management-react-app"]||[]).push([[0],{31:function(e,t,n){},33:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(3),s=n.n(c),a=n(13),r=n.n(a),i=(n(31),n(32),n(8)),o=n(9),l=n(11),h=n(10),j=(n(33),n(49)),d=n(50),u=n(51),m=n(52),p=n(53),b=n(23),O=n(24),x=n(48),f=n(1),g=function(){return Object(f.jsxs)("form",{className:"middle",action:"/",method:"get",children:[Object(f.jsx)("label",{htmlFor:"header-search",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Search Customers"})}),Object(f.jsx)("input",{type:"text",id:"header-search",placeholder:"Search customers",name:"s"}),Object(f.jsxs)(x.a,{type:"submit",color:"info",children:[" ",Object(f.jsx)("a",{style:{color:"white"},children:" Search "})]})," "]})},y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsx)(j.a,{color:"dark",dark:!0,expand:"md",children:Object(f.jsxs)(d.a,{className:"container-fluid",children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(m.a,{href:"/",children:Object(f.jsx)(b.a,{icon:O.a,size:"2x",pull:"right"})})}),Object(f.jsxs)(u.a,{children:[Object(f.jsx)("h3",{style:{color:"white"},children:" Customer Managament System"})," "]}),Object(f.jsxs)(u.a,{children:[" ",Object(f.jsxs)(p.a,{children:[" ",Object(f.jsx)(g,{})," "]})," "]})]})})}}]),n}(c.Component),v=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(f.jsx)("hr",{className:"featurette-divider",style:{width:"85%",marginTop:"2%"}})}),Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(f.jsx)("footer",{style:{marginTop:"2%"},children:Object(f.jsx)("p",{children:"Copyright \xa9 Customer Management Systems 2021"})})})]})}}]),n}(s.a.Component),S=n(26),C=n(61),w=n(62),k=n(63),I=n(60),N=n(64),U=n(58),T=n(59),A=n(25),D=n(54),F=n(55),E=n(56),W=n(57),J="https://customermanagementapi2.azurewebsites.net/api/customers",M=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={id:0,name:"",document:"",email:"",phone:""},e.onChange=function(t){e.setState(Object(A.a)({},t.target.name,t.target.value))},e.submitNew=function(t){t.preventDefault(),fetch("".concat(J),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.state.name,document:e.state.document,email:e.state.email,phone:e.state.phone})}).then((function(e){return e.json()})).then((function(t){e.props.addUserToState(t),e.props.toggle()})).catch((function(e){return console.log(e)}))},e.submitEdit=function(t){t.preventDefault(),fetch("".concat(J,"/").concat(e.state.id),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.state.id,name:e.state.name,document:e.state.document,email:e.state.email,phone:e.state.phone})}).then((function(){e.props.toggle(),e.props.updateUserIntoState(e.state.id)})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){if(this.props.user){var e=this.props.user,t=e.id,n=e.name,c=e.document,s=e.email,a=e.phone;this.setState({id:t,name:n,document:c,email:s,phone:a})}}},{key:"render",value:function(){return Object(f.jsxs)(D.a,{onSubmit:this.props.user?this.submitEdit:this.submitNew,children:[Object(f.jsxs)(F.a,{children:[Object(f.jsx)(E.a,{for:"name",children:"Name:"}),Object(f.jsx)(W.a,{type:"text",name:"name",onChange:this.onChange,value:""===this.state.name?"":this.state.name})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsx)(E.a,{for:"document",children:"Document:"}),Object(f.jsx)(W.a,{type:"text",name:"document",onChange:this.onChange,value:null===this.state.document?"":this.state.document})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsx)(E.a,{for:"email",children:"Email:"}),Object(f.jsx)(W.a,{type:"email",name:"email",onChange:this.onChange,value:null===this.state.email?"":this.state.email})]}),Object(f.jsxs)(F.a,{children:[Object(f.jsx)(E.a,{for:"phone",children:"Phone:"}),Object(f.jsx)(W.a,{type:"text",name:"phone",onChange:this.onChange,value:null===this.state.phone?"":this.state.phone,placeholder:"+1 999-999-9999"})]}),Object(f.jsx)(x.a,{children:"Send"})]})}}]),n}(s.a.Component),z=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={modal:!1},e.toggle=function(){e.setState((function(e){return{modal:!e.modal}}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e="Edit User",t="";return this.props.isNew?(e="Add User",t=Object(f.jsx)(x.a,{color:"success",onClick:this.toggle,style:{minWidth:"200px"},children:" Add "})):t=Object(f.jsxs)(x.a,{color:"warning",onClick:this.toggle,style:{minWidth:"75px"},children:[" ",Object(f.jsx)("span",{style:{color:"white"},children:" Edit "})]}),Object(f.jsxs)(c.Fragment,{children:[" ",t,Object(f.jsxs)(N.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,children:[Object(f.jsxs)(U.a,{toggle:this.toggle,children:[" ",e," "]}),Object(f.jsx)(T.a,{children:Object(f.jsx)(M,{addUserToState:this.props.addUserToState,updateUserIntoState:this.props.updateUserIntoState,toggle:this.toggle,user:this.props.user})})]})]})}}]),n}(c.Component),B=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).deleteItem=function(t){window.confirm("Do you really wish to delete the customer?")&&fetch("".concat(J,"/").concat(t),{method:"delete",headers:{"Content-Type":"application/json"}}).then((function(n){e.props.deleteItemFromState(t)})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.items,n=Object(f.jsxs)("tr",{children:[" ",Object(f.jsxs)("td",{colSpan:"6",align:"center",children:[" ",Object(f.jsx)("b",{children:" No Users yet "})," "]})," "]});return Object(f.jsxs)(I.a,{striped:!0,children:[Object(f.jsx)("thead",{className:"thead-dark",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:" Id "}),Object(f.jsx)("th",{children:" Name "}),Object(f.jsx)("th",{children:" Email "}),Object(f.jsx)("th",{children:" Document "}),Object(f.jsx)("th",{children:" Phone "}),Object(f.jsx)("th",{style:{textAlign:"center"},children:" Actions "})]})}),Object(f.jsx)("tbody",{children:(!t||t.length)<=0?n:t.map((function(t){return Object(f.jsxs)("tr",{children:[Object(f.jsxs)("th",{scope:"row",children:[" ",t.id," "]}),Object(f.jsxs)("td",{children:[" ",t.name," "]}),Object(f.jsxs)("td",{children:[" ",t.email," "]}),Object(f.jsxs)("td",{children:[" ",t.document," "]}),Object(f.jsxs)("td",{children:[" ",t.phone," "]}),Object(f.jsx)("td",{align:"center",children:Object(f.jsxs)("div",{children:[Object(f.jsx)(z,{isNew:!1,user:t,updateUserIntoState:e.props.updateState}),"\xa0 \xa0 \xa0",Object(f.jsx)(x.a,{color:"danger",onClick:function(){return e.deleteItem(t.id)},children:" Delete "})]})})]},t.id)}))})]})}}]),n}(c.Component),P=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={items:[]},e.getItems=function(){fetch(J).then((function(e){return e.json()})).then((function(t){return e.setState({items:t})})).catch((function(e){return console.log(e)}))},e.addUserToState=function(t){e.setState((function(e){return{items:[].concat(Object(S.a)(e.items),[t])}}))},e.updateState=function(t){e.getItems()},e.deleteItemFromState=function(t){var n=e.state.items.filter((function(e){return e.id!==t}));e.setState({items:n})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){var e;return e=Object(f.jsx)(x.a,{color:"success",onClick:this.getItems(),style:{minWidth:"200px"},children:" All Customers "}),Object(f.jsxs)(C.a,{style:{paddingTop:"20px"},children:[e,Object(f.jsx)(w.a,{children:Object(f.jsx)(k.a,{children:Object(f.jsx)(B,{items:this.state.items,updateState:this.updateState,deleteItemFromState:this.deleteItemFromState})})}),Object(f.jsx)(w.a,{children:Object(f.jsx)(k.a,{children:Object(f.jsx)(z,{isNew:!0,addUserToState:this.addUserToState})})})]})}}]),n}(c.Component),$=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsxs)(c.Fragment,{children:[Object(f.jsx)(y,{}),Object(f.jsx)(P,{}),Object(f.jsx)(v,{})]})}}]),n}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(f.jsx)($,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.42a9db5a.chunk.js.map